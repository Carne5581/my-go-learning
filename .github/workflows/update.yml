name: Go Learning Progress Tracker

on:
  push:
    branches:
      - main
    paths:
      - '**/*.go'  # –°–ª–µ–¥–∏—Ç –∑–∞ –ª—é–±—ã–º–∏ .go —Ñ–∞–π–ª–∞–º–∏
      - '!notifier/**'  # –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–∞–º–æ–≥–æ –±–æ—Ç–∞

jobs:
  track-progress:
    runs-on: ubuntu-latest
    
    steps:
      - name: üì• Checkout code
        uses: actions/checkout@v3

      - name: üîß Set up Go
        uses: actions/setup-go@v4
        with:
          go-version: '1.21'

      - name: üìä Run Progress Tracker
        env:
          TELEGRAM_TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
          TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
        run: |
          echo "üöÄ –ó–∞–ø—É—Å–∫–∞—é –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä..."
          go run notifier/main.go
          
      - name: ‚úÖ Done
        run: echo "‚ú® –û—Ç—á—ë—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Telegram!"
